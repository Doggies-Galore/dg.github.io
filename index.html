<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="styles.css">
        <link rel="icon" type="image/png" href="favicon.png">
        <title>Mylo's Super Cool Website!</title>
    </head>

    <body>
        <!-- Header with controls -->
        <header class="site-header">
            <div class="header-left">
                <h1 class="site-title">Mylo's Super Cool Website!</h1>
            </div>
            <div class="header-controls">
                <!-- Background color button will pick a random cozy color -->
                <button id="bg-change-btn" type="button" aria-label="Change background color">Background Color</button>
                <!-- color input to pick exact color -->
                <input id="bg-color-picker" type="color" title="Pick background color" aria-label="Pick background color">
                <!-- Dark mode toggle -->
                <button id="dark-mode-toggle" type="button" aria-pressed="false">Dark Mode</button>
            </div>
        </header>

        <main>
            <h2 class="sr-only">Main content</h2>
            <section>
                <h3>This is where I host all of the projects I've done since Elementary School... but it will probably take a long time to add them all! This is a simple HTML page with a linked CSS stylesheet and favicon. For a class... ¯\_(ツ)_/¯</h3>
            </section>
    <!-- Our list of pages in /Projects to showcase the title, description, and add date -->
    <h2>Projects:</h2>
    <ul>
        <li><a href="Projects/game.html">My Game Console</a> - A hybrid Game Console built with a Raspberry Pi, LCD, and custom button PCBs connected to an arduino to emulate a controller device. (Summer 2017)</li>
        <li><a href="Projects/arcade.html">Polarized Arcade Cabinet</a> - An arcade cabinet with an MDF frame and a polarized display, only viewable to people wearing glasses. (Summer 2018)</li>
        <li><a href="Projects/aibo2019.html">Programming AIBO</a> - A learning and growing application for AIBO built with tools that are older than I am X). (Summer 2019)</li>
    </ul>
    <br>
    <h2>About me:</h2>
    <p>I'm Mylo Dove, a student at Warren Tech, studying Computer Science and making up projects for myself. I love building things, coding, and Human Computer Interaction. </p>

    <h2>You can reach me here:</h2>
    <h3>(RIP Robots.txt...)</h3>
    <h2>You can reach me here:</h2>
    <ol>
        <li><a href="https://www.linkedin.com/in/mylo-dove/">LinkedIn</a></li>
        <li><a href="https://www.github.com/Doggies-Galore">GitHub</a></li>
    </ol>
    </body>
    <br>
    <br>
    
    <p2>Hey, does anyone wanna talk about these nerdy things with me? I like yapping about UNIX and it's many flavors. Oh well...</p2>
    <!-- Footer with two images and text below them, spaced evenly -->
        <footer class="site-footer">
            <div class="footer-card">
                <a href="https://aibohack.com/openr_sdk/index.html" target="_blank" rel="noopener noreferrer">
                    <img class="themed-img" src="favicon.png" alt="AIBO OPEN-R Logo with pink ball on top of a slanted R shape" width="100">
                </a>
                <p>Sony's weird System V fork...</p>
            </div>
            <div class="footer-card">
                <a href="https://en.wikipedia.org/wiki/Macintosh_128K" target="_blank" rel="noopener noreferrer">
                    <img class="themed-img" src="deadmac.webp" alt="A pixelated Classic Macintosh icon with X eyes and a frowny face." width="100">
                </a>
                <p>128K much?</p>
            </div>
            <div class="footer-card">
                <a href="https://comma.ai" target="_blank" rel="noopener noreferrer">
                    <img class="themed-img" src="openpilot.jpg" alt="openpilot screenshot" width="400">
                </a>
                <p>Vroom vroom</p>
            </div>
        </footer>

        <script>
            // Utilities for background color
            (function () {
                const lightColors = ['#FFF5E6', '#F7E3D5', '#E8F6EF', '#F3EAF8']; // warm pastels
                const darkColors = ['#2B2430', '#1F2A2D', '#2C2A26', '#302A34']; // muted deep tones

                const bgChangeBtn = document.getElementById('bg-change-btn');
                const colorPicker = document.getElementById('bg-color-picker');

                                function applyBackgroundColor(color) {
                                    // set CSS variable so styles.css can react
                                    document.documentElement.style.setProperty('--page-bg', color);
                                    // compute luminance of the color and pick a readable foreground
                                    const hex = rgbToHex(color).replace('#','');
                                    const r = parseInt(hex.substr(0,2),16)/255;
                                    const g = parseInt(hex.substr(2,2),16)/255;
                                    const b = parseInt(hex.substr(4,2),16)/255;
                                    const lum = 0.2126 * linearize(r) + 0.7152 * linearize(g) + 0.0722 * linearize(b);
                                    const fg = lum > 0.5 ? '#2B2B2B' : '#E6EEF8';
                                    // apply both inline color and CSS variable on body so all elements using var(--page-fg) follow
                                    try {
                                        document.body.style.setProperty('--page-fg', fg);
                                        document.body.style.color = fg;
                                        localStorage.setItem('page-bg', color);
                                    } catch (e) {}

                                    function linearize(c) { return (c <= 0.03928) ? c/12.92 : Math.pow((c+0.055)/1.055, 2.4); }
                                }

                function pickRandomBg() {
                    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                    const colors = prefersDark ? darkColors : lightColors;
                    return colors[Math.floor(Math.random() * colors.length)];
                }

                bgChangeBtn.addEventListener('click', function () {
                    const color = pickRandomBg();
                    applyBackgroundColor(color);
                    colorPicker.value = rgbToHex(color);
                });

                colorPicker.addEventListener('input', function (e) {
                    applyBackgroundColor(e.target.value);
                });

                // load persisted background on startup
                const savedBg = localStorage.getItem('page-bg');
                if (savedBg) {
                    applyBackgroundColor(savedBg);
                    colorPicker.value = rgbToHex(savedBg);
                } else {
                    // initialize the css variable from computed body background if present
                    const initial = getComputedStyle(document.body).backgroundColor;
                    applyBackgroundColor(rgbToHex(initial));
                }

                // helper to convert named/rgb to hex (basic)
                function rgbToHex(color) {
                    if (!color) return '#ffffff';
                    if (color[0] === '#') return color;
                    const m = color.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);
                    if (!m) return '#ffffff';
                    return '#' + [1,2,3].map(i => parseInt(m[i]).toString(16).padStart(2,'0')).join('');
                }
            })();

            // Dark mode toggle with persistence and respects prefers-color-scheme when no choice saved
            (function () {
                const toggle = document.getElementById('dark-mode-toggle');
                const DARK_CLASS = 'dark-mode';

                function setDarkMode(isDark, persist = true) {
                    document.body.classList.toggle(DARK_CLASS, isDark);
                    toggle.setAttribute('aria-pressed', String(!!isDark));
                    toggle.textContent = isDark ? 'Light Mode' : 'Dark Mode';
                    try { if (persist) localStorage.setItem('prefers-dark', isDark ? '1' : '0'); } catch (e) {}
                }

                toggle.addEventListener('click', function () {
                    const isDark = document.body.classList.contains(DARK_CLASS);
                    setDarkMode(!isDark);
                });

                // Initialize on load: check localStorage, then prefers-color-scheme, then default
                (function init() {
                    let saved = null;
                    try { saved = localStorage.getItem('prefers-dark'); } catch (e) { saved = null; }
                    if (saved === '1' || saved === '0') {
                        setDarkMode(saved === '1', false);
                    } else if (window.matchMedia) {
                        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                        setDarkMode(prefersDark, false);
                    } else {
                        setDarkMode(false, false);
                    }
                })();
            })();
        </script>

    </body>
</html>